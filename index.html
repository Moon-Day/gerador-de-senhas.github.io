<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
    <img src="logo.png" alt="gerador de senha" class="logo">

    <main class="container-input">

        <span>Tamanho <span id="valor"> </span> caracteres</span>
        <input type="range" id="slider" class="slider" min="5" max="25" value=" ">
        <button id="button" class="button-cta" onclick="generatePassword()"> Gerar Senha</button>

    </main>

    <div onclick="copyPassword(novaSenha)" id="container-password" class="container-password hide">

        <span class="title">Sua senha gerada foi: </span>
        <span id="password" class="password">1231233</span>
        <span class="tooltip">Clique na senha para copiar</span>

    </div>

    <script >
        let sliderElement = document.querySelector("#slider");
        let buttonElement = document.querySelector("#button");

        let sizePassword = document.querySelector("#valor");
        let password = document.querySelector("#password");
        
        let containerPassword = document.querySelector("#container-password");

        let charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY!@#$%&*0123456789"

        let novaSenha = " ";

        sizePassword.innerHTML = sliderElement.value;

        slider.oninput = function (){
            sizePassword.innerHTML = this.value;

        }

        function generatePassword(){
            let pass = " ";
            for(let i = 0, n = charset.length; i < sliderElement.value; i++){
                pass += charset.charAt(Math.floor(Math.random()* n));
            }
            console.log(pass)
            containerPassword.classList.remove("hide");
            password.innerHTML = pass;
            novaSenha = pass;

        }

        function copyPassword(novaSenha){
            navigator.clipboard.writeText(novaSenha);
            alert("Senha copiada com sucesso")

        }

    </script>
</body>
</html>